<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>like practice</title>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
</head>
<body>
    <button class="likeBtn">좋아요 🥰</button>
    <span>0</span>
    <br><br>
    <input type="text">
    <button class="textBtn">댓글 작성</button>
    <br>
    <div class="container">
        <p>
            첫 댓글
            <button class="removeBtn">삭제</button>
        </p>
    </div>

    <script>

        /*
        1. 좋아요 버튼 클릭 시
        버튼 안의 텍스트를 좋아요 -> 좋아요취소
        숫자 0 -> 1
        */

        /*
        속성 추가 및 제거 관련
        attr(추가할 속성, 속성의 값 ) : 속성 추가 메소드
        removeAttr(제거할 속성) : 속성 제거 메소드
        $(A).prepend(B) : B를 A요소 첫번째 위치에 추가하는 메소드
        $(A).append(B) : B를 A요소 마지막 위치에 추가하는 메소드

        input 요소 관련
        val() : input 입력 값 접근 (JS - value 속성)
        input 요소 값 비워주기 -> input반환객체.val('')
        
        부모 관련
        parent() : 가장 가까운 부모 요소 선택하는 메소드
        parents() : 모든 부모 요소 선택하는 메소드
        closest(원하는 요소) : 모든 부모 요소 대상, 원하는 요소 접근가능
        */

       // .text('바꿀내용')

    //    $(document).on('click','likeBtn',()=>{
    //         $('.likeBtn').text('좋아요 취소 😢')
    //         $('span').text('1');
    //    })

         $(document).on('click','.likeBtn',(e)=>{
            $(e.target).text('좋아요 취소 😢')
            $('span').text('1');
            $(e.target).removeAttr('class'); // 삭제하고  
            $(e.target).attr('class','dislikeBtn'); // 추가하기
       })



        /*
        2. 좋아요취소 버튼 클릭 시
        버튼 안의 텍스트를 좋아요취소 -> 좋아요
        숫자 1 -> 0
        */
        $(document).on('click','.dislikeBtn',(e)=>{
            $(e.target).text('좋아요 🥰')
            $('span').text('0');
            $(e.target).removeAttr('class'); // 삭제하고  
            $(e.target).attr('class','likeBtn'); // 추가하기
       })




        /*
        3. 댓글 작성 버튼 클릭 시
           입력한 내용을 댓글로 + 삭제 버튼 생성
        */
       $(document).on('click','.textBtn',()=>{
            // input 입력 값 가져오기
            // JS -> value
            // jQuery -> val()
            let inputValue = $('input').val();
            console.log(inputValue);
            // container div에 input 입력 값과 삭제 버튼 생성
            $('.container').append(`
            <p>
            ${inputValue}
            <button class="removeBtn">삭제</button>
            </p>
            `)
            // 댓글 작성 후 input 입력 값 비워주기
            $('input').val('');
       })

       
        /*
        4. 삭제 버튼 클릭 시
           해당 댓글+삭제 버튼 삭제
        */    
       $(document).on('click','.removeBtn', e=>{ // (매개변수) -> 매개변수 1개일때 () 생략가능
            // $(e.target).parent().remove(); 
            // $(e.target).parents().remove(); // -> 전부 삭제됨
            $(e.target).closest('p').remove();
       })

    </script>
</body>
</html>